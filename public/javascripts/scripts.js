$(function(){var o=!0;$(".switch-button").on("click",function(r){r.preventDefault(),$("input").val(""),$("p.error").remove(),$("input").removeClass("error"),o?(o=!1,$(".registration").show("slow"),$(".login").hide()):(o=!0,$(".registration").hide(),$(".login").show("slow"))}),$("input").on("focus",function(){$("p.error").remove(),$("input").removeClass("error"),$("p.success").remove(),$("input").removeClass("success")}),$(".register-button").on("click",function(o){o.preventDefault(),$("p.error").remove(),$("input").removeClass("error");var r={login:$("#register-login").val(),password:$("#register-password").val(),passwordConfirm:$("#register-password-confirm").val()};$.ajax({type:"POST",data:JSON.stringify(r),contentType:"application/json",url:"api/auth/register"}).done(function(o){o.ok||$(".registration h2").after('<p class="error">'.concat(o.error).concat("</p>")),o.fields?o.fields.forEach(function(o){$("input[name=".concat(o).concat("]")).addClass("error")}):$(".registration h2").after('<p class="success">Отлично!</p>')})}),$(".login-button").on("click",function(o){o.preventDefault(),$("p.error").remove(),$("input").removeClass("error");var r={login:$("#login-login").val(),password:$("#login-password").val()};$.ajax({type:"POST",data:JSON.stringify(r),contentType:"application/json",url:"api/auth/login"}).done(function(o){o.ok||$(".login h2").after('<p class="error">'.concat(o.error).concat("</p>")),o.fields?o.fields.forEach(function(o){$("input[name=".concat(o).concat("]")).addClass("error")}):location.reload()})})});